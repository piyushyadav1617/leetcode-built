import{_ as R,a as y}from"./@babel-6c5c234b.js";import{j as G,r as d,R as W}from"./react-5cc2acaa.js";import{l as q,h as V,a as $,b as J,f as Q,d as Z,c as ee,E as j,i as te,s as _,e as ae,g as ie,j as re,k as se,r as oe,m as ne,n as le,o as he,p as U,q as ce,t as ge,u as de,v as fe,w as ue,x as me,y as pe,z as B,A as be,B as ve,C as Se,S as xe,H as ye}from"./@codemirror-531b836d.js";import{a as e}from"./@lezer-7cc0d4df.js";const T=G.jsx,ke=G.jsxs;var I=function(a){a===void 0&&(a={});var t=[];a.closeBracketsKeymap!==!1&&t.push([...ce]),a.defaultKeymap!==!1&&t.push([...ge]),a.searchKeymap!==!1&&t.push([...de]),a.historyKeymap!==!1&&t.push([...fe]),a.foldKeymap!==!1&&t.push([...ue]),a.completionKeymap!==!1&&t.push([...me]),a.lintKeymap!==!1&&t.push([...pe]);var i=[];return a.lineNumbers!==!1&&i.push(q()),a.highlightActiveLineGutter!==!1&&i.push(V()),a.highlightSpecialChars!==!1&&i.push($()),a.history!==!1&&i.push(J()),a.foldGutter!==!1&&i.push(Q()),a.drawSelection!==!1&&i.push(Z()),a.dropCursor!==!1&&i.push(ee()),a.allowMultipleSelections!==!1&&i.push(j.allowMultipleSelections.of(!0)),a.indentOnInput!==!1&&i.push(te()),a.syntaxHighlighting!==!1&&i.push(_(ae,{fallback:!0})),a.bracketMatching!==!1&&i.push(ie()),a.closeBrackets!==!1&&i.push(re()),a.autocompletion!==!1&&i.push(se()),a.rectangularSelection!==!1&&i.push(oe()),a.crosshairCursor!==!1&&i.push(ne()),a.highlightActiveLine!==!1&&i.push(le()),a.highlightSelectionMatches!==!1&&i.push(he()),[...i,U.of(t.flat())].filter(Boolean)},Ee=r=>({line:r.state.doc.lineAt(r.state.selection.main.from),lineCount:r.state.doc.lines,lineBreak:r.state.lineBreak,length:r.state.doc.length,readOnly:r.state.readOnly,tabSize:r.state.tabSize,selection:r.state.selection,selectionAsSingle:r.state.selection.asSingle().main,ranges:r.state.selection.ranges,selectionCode:r.state.sliceDoc(r.state.selection.main.from,r.state.selection.main.to),selections:r.state.selection.ranges.map(a=>r.state.sliceDoc(a.from,a.to)),selectedText:r.state.selection.ranges.some(a=>!a.empty)});function Be(r){var{value:a,selection:t,onChange:i,onStatistics:s,onUpdate:n,extensions:l=[],autoFocus:h,theme:m="light",height:f="",minHeight:x="",maxHeight:C="",placeholder:k="",width:z="",minWidth:u="",maxWidth:g="",editable:A=!0,readOnly:E=!1,indentWithTab:v=!0,basicSetup:p=!0,root:F}=r,[D,w]=d.useState(),[o,S]=d.useState(),[N,H]=d.useState(),M=B.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),O=B.theme({"&":{height:f,minHeight:x,maxHeight:C,width:z,minWidth:u,maxWidth:g}}),L=B.updateListener.of(b=>{if(b.docChanged&&typeof i=="function"){var K=b.state.doc,P=K.toString();i(P,b)}s&&s(Ee(b))}),c=[L,O];switch(v&&c.unshift(U.of([be])),p&&(typeof p=="boolean"?c.unshift(I()):c.unshift(I(p))),k&&c.unshift(ve(k)),m){case"light":c.push(M);break;case"dark":c.push(Se);break;default:c.push(m);break}return A===!1&&c.push(B.editable.of(!1)),E&&c.push(j.readOnly.of(!0)),n&&typeof n=="function"&&c.push(B.updateListener.of(n)),c=c.concat(l),d.useEffect(()=>{if(D&&!N){var b=j.create({doc:a,selection:t,extensions:c});if(H(b),!o){var K=new B({state:b,parent:D,root:F});S(K)}}return()=>{o&&(H(void 0),S(void 0))}},[D,N]),d.useEffect(()=>w(r.container),[r.container]),d.useEffect(()=>()=>{o&&(o.destroy(),S(void 0))},[o]),d.useEffect(()=>{h&&o&&o.focus()},[h,o]),d.useEffect(()=>{o&&o.dispatch({effects:xe.reconfigure.of(c)})},[m,l,f,x,C,z,u,g,k,A,E,v,p,i,n]),d.useEffect(()=>{var b=o?o.state.doc.toString():"";o&&a!==b&&o.dispatch({changes:{from:0,to:b.length,insert:a||""}})},[a,o]),{state:N,setState:H,view:o,setView:S,container:D,setContainer:w}}var Ce=["className","value","selection","extensions","onChange","onStatistics","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root"],ze=d.forwardRef((r,a)=>{var{className:t,value:i="",selection:s,extensions:n=[],onChange:l,onStatistics:h,onUpdate:m,autoFocus:f,theme:x="light",height:C,minHeight:k,maxHeight:z,width:u,minWidth:g,maxWidth:A,basicSetup:E,placeholder:v,indentWithTab:p,editable:F,readOnly:D,root:w}=r,o=R(r,Ce),S=d.useRef(null),{state:N,view:H,container:M,setContainer:O}=Be({container:S.current,root:w,value:i,autoFocus:f,theme:x,height:C,minHeight:k,maxHeight:z,width:u,minWidth:g,maxWidth:A,basicSetup:E,placeholder:v,indentWithTab:p,editable:F,readOnly:D,selection:s,onChange:l,onStatistics:h,onUpdate:m,extensions:n});if(d.useImperativeHandle(a,()=>({editor:S.current,state:N,view:H}),[S,M,N,H]),typeof i!="string")throw new Error("value must be typeof string but got "+typeof i);var L=typeof x=="string"?"cm-theme-"+x:"cm-theme";return T("div",y({ref:S,className:""+L+(t?" "+t:"")},o))});ze.displayName="CodeMirror";var X=r=>{var{theme:a,settings:t={},styles:i=[]}=r,s={".cm-gutters":{}},n={};t.background&&(n.backgroundColor=t.background),t.foreground&&(n.color=t.foreground),(t.background||t.foreground)&&(s["&"]=n),t.fontFamily&&(s["&.cm-editor .cm-scroller"]={fontFamily:t.fontFamily}),t.gutterBackground&&(s[".cm-gutters"].backgroundColor=t.gutterBackground),t.gutterForeground&&(s[".cm-gutters"].color=t.gutterForeground),t.gutterBorder&&(s[".cm-gutters"].borderRightColor=t.gutterBorder),t.caret&&(s[".cm-content"]={caretColor:t.caret},s[".cm-cursor, .cm-dropCursor"]={borderLeftColor:t.caret});var l={};t.gutterActiveForeground&&(l.color=t.gutterActiveForeground),t.lineHighlight&&(s[".cm-activeLine"]={backgroundColor:t.lineHighlight},l.backgroundColor=t.lineHighlight),s[".cm-activeLineGutter"]=l,t.selection&&(s["&.cm-focused .cm-selectionBackground, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={backgroundColor:t.selection}),t.selectionMatch&&(s["& .cm-selectionMatch"]={backgroundColor:t.selectionMatch});var h=B.theme(s,{dark:a==="dark"}),m=ye.define(i),f=[h,_(m)];return f},Ae={background:"#2e3235",foreground:"#bdbdbd",caret:"#a0a4ae",selection:"#d7d4f0",selectionMatch:"#d7d4f0",gutterBackground:"#2e3235",gutterForeground:"#999",gutterActiveForeground:"#4f5b66",lineHighlight:"#545b61"},Y=r=>{var{theme:a="dark",settings:t={},styles:i=[]}=r||{};return X({theme:a,settings:y({},Ae,t),styles:[{tag:e.keyword,color:"#cf6edf"},{tag:[e.name,e.deleted,e.character,e.macroName],color:"#56c8d8"},{tag:[e.propertyName],color:"#facf4e"},{tag:[e.variableName],color:"#bdbdbd"},{tag:[e.function(e.variableName)],color:"#56c8d8"},{tag:[e.labelName],color:"#cf6edf"},{tag:[e.color,e.constant(e.name),e.standard(e.name)],color:"#facf4e"},{tag:[e.definition(e.name),e.separator],color:"#fa5788"},{tag:[e.brace],color:"#cf6edf"},{tag:[e.annotation],color:"#ff5f52"},{tag:[e.number,e.changed,e.annotation,e.modifier,e.self,e.namespace],color:"#ffad42"},{tag:[e.typeName,e.className],color:"#ffad42"},{tag:[e.operator,e.operatorKeyword],color:"#7186f0"},{tag:[e.tagName],color:"#99d066"},{tag:[e.squareBracket],color:"#ff5f52"},{tag:[e.angleBracket],color:"#606f7a"},{tag:[e.attributeName],color:"#bdbdbd"},{tag:[e.regexp],color:"#ff5f52"},{tag:[e.quote],color:"#6abf69"},{tag:[e.string],color:"#99d066"},{tag:e.link,color:"#56c8d8",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[e.url,e.escape,e.special(e.string)],color:"#facf4e"},{tag:[e.meta],color:"#707d8b"},{tag:[e.comment],color:"#707d8b",fontStyle:"italic"},{tag:e.monospace,color:"#bdbdbd"},{tag:e.strong,fontWeight:"bold",color:"#ff5f52"},{tag:e.emphasis,fontStyle:"italic",color:"#99d066"},{tag:e.strikethrough,textDecoration:"line-through"},{tag:e.heading,fontWeight:"bold",color:"#facf4e"},{tag:e.heading1,fontWeight:"bold",color:"#facf4e"},{tag:[e.heading2,e.heading3,e.heading4],fontWeight:"bold",color:"#facf4e"},{tag:[e.heading5,e.heading6],color:"#facf4e"},{tag:[e.atom,e.bool,e.special(e.variableName)],color:"#56c8d8"},{tag:[e.processingInstruction,e.inserted],color:"#ff5f52"},{tag:[e.contentSeparator],color:"#56c8d8"},{tag:e.invalid,color:"#606f7a",borderBottom:"1px dotted #ff5f52"},...i]})},Ke=Y();Y();var De={background:"#FAFAFA",foreground:"#90A4AE",caret:"#272727",selection:"#80CBC440",selectionMatch:"#FAFAFA",gutterBackground:"#FAFAFA",gutterForeground:"#90A4AE",gutterBorder:"transparent",lineHighlight:"#CCD7DA50"},Ne=r=>{var{theme:a="light",settings:t={},styles:i=[]}=r||{};return X({theme:a,settings:y({},De,t),styles:[{tag:e.keyword,color:"#39ADB5"},{tag:[e.name,e.deleted,e.character,e.macroName],color:"#90A4AE"},{tag:[e.propertyName],color:"#6182B8"},{tag:[e.processingInstruction,e.string,e.inserted,e.special(e.string)],color:"#91B859"},{tag:[e.function(e.variableName),e.labelName],color:"#6182B8"},{tag:[e.color,e.constant(e.name),e.standard(e.name)],color:"#39ADB5"},{tag:[e.definition(e.name),e.separator],color:"#90A4AE"},{tag:[e.className],color:"#E2931D"},{tag:[e.number,e.changed,e.annotation,e.modifier,e.self,e.namespace],color:"#F76D47"},{tag:[e.typeName],color:"#E2931D",fontStyle:"#E2931D"},{tag:[e.operator,e.operatorKeyword],color:"#39ADB5"},{tag:[e.url,e.escape,e.regexp,e.link],color:"#91B859"},{tag:[e.meta,e.comment],color:"#90A4AE"},{tag:e.strong,fontWeight:"bold"},{tag:e.emphasis,fontStyle:"italic"},{tag:e.link,textDecoration:"underline"},{tag:e.heading,fontWeight:"bold",color:"#39ADB5"},{tag:[e.atom,e.bool,e.special(e.variableName)],color:"#90A4AE"},{tag:e.invalid,color:"#E5393570"},{tag:e.strikethrough,textDecoration:"line-through"},...i]})};Ne();var He=["prefixCls","className","children","mode","visiable","renderBar","lineBar","disable","onDragEnd","onDragging"];class We extends W.Component{constructor(a){super(a),this.state={dragging:!1},this.warpper=void 0,this.paneNumber=void 0,this.startX=void 0,this.startY=void 0,this.move=void 0,this.target=void 0,this.boxWidth=void 0,this.boxHeight=void 0,this.preWidth=void 0,this.nextWidth=void 0,this.preHeight=void 0,this.nextHeight=void 0,this.preSize=void 0,this.nextSize=void 0,this.onDragEnd=this.onDragEnd.bind(this),this.onDragging=this.onDragging.bind(this)}componentWillUnmount(){this.removeEvent()}removeEvent(){window.removeEventListener("mousemove",this.onDragging,!1),window.removeEventListener("mouseup",this.onDragEnd,!1)}onMouseDown(a,t){if(!(!t.target||!this.warpper)){this.paneNumber=a,this.startX=t.clientX,this.startY=t.clientY,this.move=!0,this.target=t.target.parentNode;var i=this.target.previousElementSibling,s=this.target.nextElementSibling;this.boxWidth=this.warpper.clientWidth,this.boxHeight=this.warpper.clientHeight,i&&(this.preWidth=i.clientWidth,this.preHeight=i.clientHeight),s&&(this.nextWidth=s.clientWidth,this.nextHeight=s.clientHeight),window.addEventListener("mousemove",this.onDragging),window.addEventListener("mouseup",this.onDragEnd,!1),this.setState({dragging:!0})}}onDragging(a){if(this.move){this.state.dragging||this.setState({dragging:!0});var{mode:t,onDragging:i}=this.props,s=this.target.nextElementSibling,n=this.target.previousElementSibling,l=a.clientX-this.startX,h=a.clientY-this.startY;if(this.preSize=0,this.nextSize=0,t==="horizontal"){if(this.preSize=this.preWidth+l>-1?this.preWidth+l:0,this.nextSize=this.nextWidth-l>-1?this.nextWidth-l:0,this.preSize===0||this.nextSize===0)return;this.preSize=(this.preSize/this.boxWidth>=1?1:this.preSize/this.boxWidth)*100,this.nextSize=(this.nextSize/this.boxWidth>=1?1:this.nextSize/this.boxWidth)*100,n&&s&&(n.style.width=this.preSize+"%",s.style.width=this.nextSize+"%")}if(t==="vertical"&&this.preHeight+h>-1&&this.nextHeight-h>-1){if(this.preSize=this.preHeight+h>-1?this.preHeight+h:0,this.nextSize=this.nextHeight-h>-1?this.nextHeight-h:0,this.preSize=(this.preSize/this.boxHeight>=1?1:this.preSize/this.boxHeight)*100,this.nextSize=(this.nextSize/this.boxHeight>=1?1:this.nextSize/this.boxHeight)*100,this.preSize===0||this.nextSize===0)return;n&&s&&(n.style.height=this.preSize+"%",s.style.height=this.nextSize+"%")}i&&i(this.preSize,this.nextSize,this.paneNumber)}}onDragEnd(){var{onDragEnd:a}=this.props;this.move=!1,a&&a(this.preSize,this.nextSize,this.paneNumber),this.removeEvent(),this.setState({dragging:!1})}render(){var a=this.props,{prefixCls:t,className:i,children:s,mode:n,visiable:l,renderBar:h,lineBar:m,disable:f}=a,x=R(a,He),{dragging:C}=this.state,k=[t,i,t+"-"+n,C?"dragging":null].filter(Boolean).join(" ").trim(),z=W.Children.toArray(s);return T("div",y({className:k},x,{ref:u=>this.warpper=u,children:W.Children.map(z,(u,g)=>{var A=Object.assign({},u.props,{className:[t+"-pane",u.props.className].filter(Boolean).join(" ").trim(),style:y({},u.props.style)}),E=l===!0||l&&l.includes(g+1)||!1,v={className:[t+"-bar",m?t+"-line-bar":null,m?null:t+"-large-bar"].filter(Boolean).join(" ").trim()};(f===!0||f&&f.includes(g+1))&&(v.className=[v.className,f?"disable":null].filter(Boolean).join(" ").trim());var p=null;return g!==0&&E&&h?p=h(y({},v,{onMouseDown:this.onMouseDown.bind(this,g+1)})):g!==0&&E&&(p=W.createElement("div",y({},v),T("div",{onMouseDown:this.onMouseDown.bind(this,g+1)}))),ke(W.Fragment,{children:[p,W.cloneElement(u,y({},A))]},g)})}))}}We.defaultProps={prefixCls:"w-split",visiable:!0,mode:"horizontal"};export{ze as R,We as S,T as a,ke as j,Ke as m};
